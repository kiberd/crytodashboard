(this["webpackJsonptrade-dashboard"]=this["webpackJsonptrade-dashboard"]||[]).push([[0],[,,,,,,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},,function(e,t,s){},function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),c=s(6),i=s.n(c),l=(s(11),s(2)),r=(s(12),s(5),s(13),s(3)),o=s(0),u=n.a.createContext(),d={place:"",visablestatus:{visable:!0,url:""},visablestatusroute:{visable:!1,url:""},myposition:{lat:"",lng:""}},j=function(e,t){switch(t.type){case"CHANGESELECTEDPLACE":return Object(r.a)(Object(r.a)({},e),{},{place:t.value});case"CHANGEVISABLE":return Object(r.a)(Object(r.a)({},e),{},{visablestatus:t.visablestatus});case"CHANGEVISABLEROUTE":return Object(r.a)(Object(r.a)({},e),{},{visablestatusroute:t.visablestatusroute});case"SETPOSITION":return Object(r.a)(Object(r.a)({},e),{},{myposition:t.myposition});default:throw new Error}},b=function(e){var t=e.children,s=Object(a.useReducer)(j,d),n=Object(l.a)(s,2),c=n[0],i=n[1];return Object(o.jsx)(u.Provider,{value:{place:c.place,visablestatus:c.visablestatus,visablestatusroute:c.visablestatusroute,myposition:c.myposition,contextDispatch:i},children:t})},p=function(e){var t=Object(a.useRef)(null),s=Object(a.useState)(),n=Object(l.a)(s,2),c=n[0],i=n[1],r=Object(a.useState)([]),d=Object(l.a)(r,2),j=d[0],b=d[1],p=Object(a.useContext)(u),m=p.place,v=p.myposition,O=p.contextDispatch,f=e.bounds,h=e.placeData,k=e.height,x=function(e,t){var s=new kakao.maps.InfoWindow({zIndex:1}),a=new kakao.maps.Marker({position:e});kakao.maps.event.addListener(a,"click",E(t)),kakao.maps.event.addListener(a,"mouseover",g(c,a,s,t)),kakao.maps.event.addListener(a,"mouseout",y(s)),a.setMap(c);var n=j;n.push(a),b(n)},E=function(e){return function(){O(e?{type:"CHANGEVISABLE",visablestatus:{visable:!1,url:h[e].place_url}}:{type:"CHANGEVISABLE",visablestatus:{visable:!1,url:m.place_url}})}},g=function(e,t,s,a){return function(){a?s.setContent('<div style="padding:5px;font-size:12px;">'+h[a].place_name+"</div>"):s.setContent('<div style="padding:5px;font-size:12px;">'+m.place_name+"</div>"),s.open(e,t)}},y=function(e){return function(){e.close()}},L=function(e){for(var t=0;t<j.length;t++)j[t].setMap(e)};return Object(a.useEffect)((function(){var e=t.current,s={center:new kakao.maps.LatLng(37.566826,126.9786567),level:3},a=new kakao.maps.Map(e,s);i(a)}),[]),Object(a.useEffect)((function(){if(O({type:"CHANGESELECTEDPLACE",value:""}),"undefined"!==typeof c&&"undefined"!==typeof f&&c.setBounds(f),"undefined"!==typeof c&&"undefined"!==typeof h){L(null);for(var e=0;e<h.length;e++){var t=new kakao.maps.LatLng(h[e].y,h[e].x);x(t,e)}}}),[h]),Object(a.useEffect)((function(){if("undefined"!==typeof c&&""!==m){L(null);var e=new kakao.maps.LatLng(m.y,m.x);c.panTo(e),x(e)}}),[m]),Object(a.useEffect)((function(){if("undefined"!==typeof c){var e=new kakao.maps.LatLng(v.lat,v.lng);c.panTo(e),function(e){var t=new kakao.maps.Size(32,35),s={offset:new kakao.maps.Point(27,69)},a=new kakao.maps.MarkerImage("https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_red.png",t,s);new kakao.maps.Marker({position:e,image:a}).setMap(c)}(e)}}),[v]),Object(o.jsx)("div",{className:"map",children:Object(o.jsx)("div",{ref:t,id:"map",style:{width:"auto",height:k}})})},m=(s(15),function(e){var t=e.resultData,s=Object(a.useContext)(u),n=s.myposition,c=s.contextDispatch;return"undefined"===typeof t?Object(o.jsx)("div",{children:"\ud0a4\uc6cc\ub4dc\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694"}):Object(o.jsx)(o.Fragment,{children:t.map((function(e){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"list",children:Object(o.jsx)("a",{class:"card",onClick:function(){return c({type:"CHANGESELECTEDPLACE",value:e})},children:Object(o.jsxs)("div",{class:"card-content",children:[Object(o.jsx)("div",{class:"media",children:Object(o.jsxs)("div",{class:"media-content",children:[Object(o.jsx)("p",{class:"title is-4",children:e.place_name}),Object(o.jsx)("p",{class:"subtitle is-6",children:e.address_name})]})}),Object(o.jsx)("a",{class:"button is-info",onClick:function(){return function(e){if(""===n.lat){alert("\ub0b4 \uc704\uce58\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4! \ucd9c\ubc1c\uc9c0\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.");var t="https://map.kakao.com/link/to/"+e.id;c({type:"CHANGEVISABLEROUTE",visablestatusroute:{visable:!0,url:t}})}else{var s=new kakao.maps.services.Geocoder,a=new kakao.maps.LatLng(n.lat,n.lng);s.coord2Address(a.getLng(),a.getLat(),(function(t,s){if(s===kakao.maps.services.Status.OK){var a="https://map.kakao.com/?sName="+t[0].address.address_name+"&eName="+e.place_name;c({type:"CHANGEVISABLEROUTE",visablestatusroute:{visable:!0,url:a}})}}))}}(e)},children:"\uae38\ucc3e\uae30"})]})})}),Object(o.jsx)("hr",{})]})}))})});var v=function(){Object(a.useEffect)((function(){var e=new kakao.maps.services.Places;w(),C(e)}),[]);var e=Object(a.useContext)(u),t=e.visablestatus,s=e.visablestatusroute,n=(e.myposition,e.contextDispatch),c=Object(a.useRef)(),i=Object(a.useState)(),r=Object(l.a)(i,2),d=r[0],j=r[1],b=Object(a.useState)(),v=Object(l.a)(b,2),O=v[0],f=v[1],h=Object(a.useState)(),k=Object(l.a)(h,2),x=k[0],E=k[1],g=Object(a.useState)(),y=Object(l.a)(g,2),L=y[0],C=y[1],S=Object(a.useRef)(null),A=function(){n({type:"CHANGEVISABLE",visablestatus:{visable:!0,url:""}}),n({type:"CHANGEVISABLEROUTE",visablestatusroute:{visable:!1,url:""}});var e=c.current.value;if(!e.replace(/^\s+|\s+$/g,""))return alert("\ud0a4\uc6cc\ub4dc\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694!"),!1;L.keywordSearch(e,N)},w=function(){navigator?navigator.geolocation.getCurrentPosition((function(e){n({type:"SETPOSITION",myposition:{lat:e.coords.latitude,lng:e.coords.longitude}})})):alert("\ub0b4 \uc704\uce58\ub97c \uac00\uc838\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")},N=function(e,t){if(t===kakao.maps.services.Status.OK){for(var s=new kakao.maps.LatLngBounds,a=0;a<e.length;a++)s.extend(new kakao.maps.LatLng(e[a].y,e[a].x));E(s),f(e),j(e)}else{if(t===kakao.maps.services.Status.ZERO_RESULT)return void alert("\uac80\uc0c9 \uacb0\uacfc\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");if(t===kakao.maps.services.Status.ERROR)return void alert("\uac80\uc0c9 \uacb0\uacfc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}};return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("div",{className:"App-header",children:Object(o.jsxs)("div",{class:"columns is-mobile",children:[Object(o.jsx)("div",{class:"column is-2-desktop is-three-fifths-mobile",children:Object(o.jsx)("input",{class:"input",type:"text",placeholder:"\ud0a4\uc6cc\ub4dc \uc785\ub825",ref:c})}),Object(o.jsx)("div",{class:"column is-1-desktop",children:Object(o.jsx)("a",{class:"button is-primary",onClick:A,children:"\uac80\uc0c9"})})]})}),Object(o.jsx)("hr",{}),s.visable?Object(o.jsx)("div",{class:"columns",children:Object(o.jsxs)("div",{class:"column",children:[Object(o.jsx)("a",{class:"button is-small is-link",style:{marginBottom:"1em"},onClick:A,children:"\ub3cc\uc544\uac00\uae30"}),Object(o.jsx)("iframe",{src:s.url,width:"100%",height:"750px"})]})}):Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{class:"columns",children:[Object(o.jsxs)("div",{class:"column is-hidden-mobile",children:[Object(o.jsx)("div",{className:"App-section",children:t.visable?Object(o.jsx)(p,{placeData:O,bounds:x,height:770}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("a",{class:"button is-small is-link",style:{marginBottom:"1em"},onClick:A,children:"\ub3cc\uc544\uac00\uae30"}),Object(o.jsx)("iframe",{src:t.url,width:"100%",height:"750px"})]})}),Object(o.jsx)("hr",{})]}),Object(o.jsxs)("div",{class:"column is-hidden-desktop",children:[Object(o.jsx)("div",{className:"App-section-mobile",ref:S,children:t.visable?Object(o.jsx)(p,{placeData:O,bounds:x,height:300}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("a",{class:"button is-small is-link",style:{marginBottom:"1em"},onClick:A,children:"\ub3cc\uc544\uac00\uae30"}),Object(o.jsx)("iframe",{src:t.url,width:"100%",height:"300px"})]})}),Object(o.jsx)("hr",{})]}),Object(o.jsx)("div",{class:"column",children:Object(o.jsx)("div",{className:"App-aside",children:Object(o.jsx)(m,{resultData:d})})})]})})]})};i.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(b,{children:Object(o.jsx)(v,{})})}),document.getElementById("root"))}],[[16,1,2]]]);
//# sourceMappingURL=main.8b5aa489.chunk.js.map